/*
 * angular-downloadsvg-directive 0.0.11
 * (c) 2014 Hypercubed <hypercubed@gmail.com>
 * Licensed MIT
 */
!function(){var a=angular.module("hc.downloader",[]);a.factory("svgDownload",["$log",function(a){return function(b){var c=angular.element(b);if("svg"!==c.prop("tagName")&&(c=c.find("svg")),c.length<1)return a.warn("svgDownload Error: Element "+b+" not found"),null;c.attr("version",1.1).attr("xmlns","http://www.w3.org/2000/svg");var d=c[0].outerHTML||(new XMLSerializer).serializeToString(c[0]),e=new Blob([d],{type:"data:image/svg+xml"});return{getHtml:function(){return d},getBlob:function(){return e},asSvg:function(a){saveAs(e,a)}}}}]),a.directive("svgDownload",["svgDownload",function(a){return{restrict:"A",link:function(b,c,d){function e(){var b=encodeURI(d.filename||d.title||"untitled")+".svg",c=a(d.svgDownload||"body");c&&c.asSvg(b)}c.on("click",function(){b.$apply(function(){e()})})}}}])}();